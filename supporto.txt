# Assicurati di avere installato:
# pip install pyyaml requests SPARQLWrapper tqdm regex ujson pandas

export PYTHONPATH=src

# 1) Triple DBpedia
python scripts/fetch_dbpedia.py --config configs/data/dbpedia.yaml --out data/raw/dbpedia_triples.jsonl

# 2) Testo Wikipedia (con fallback opzionale a abstract DBpedia)
python scripts/fetch_wikipedia.py --config configs/data/wikipedia.yaml --in data/raw/dbpedia_triples.jsonl --out data/raw/wikipedia_intro.jsonl

# 3) Costruzione dataset (split per film + 4 task per split)
python scripts/build_dataset.py --config configs/data/build.yaml --dbp data/raw/dbpedia_triples.jsonl --wiki data/raw/wikipedia_intro.jsonl --outdir data/processed
